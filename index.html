<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Roue de la Fortune - Gagnez des codes promos">
    <title>Roue de la Fortune</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Modal de collecte email -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-icon">‚ú®</div>
            <h2>Tentez Votre Chance !</h2>
            <p>Tournez la roue et gagnez jusqu'√† <span class="highlight">20% de r√©duction</span> !</p>
            
            <div class="input-group">
                <span class="input-icon">üìß</span>
                <input type="email" id="email" placeholder="Votre email" required>
            </div>
            
            <button class="btn-primary" onclick="spin()">TOURNER LA ROUE üéØ</button>
            
            <p class="privacy">üîí Vos donn√©es sont s√©curis√©es</p>
        </div>
    </div>

    <!-- Contenu principal -->
    <div class="container hidden" id="main">
        <h1>üé° Votre Marque</h1>
        <p class="subtitle" id="subtitle">Bonne chance !</p>

        <!-- Roue -->
        <div class="wheel-wrapper">
            <div class="arrow"></div>
            <div class="wheel" id="wheel">
                <!-- Les segments seront cr√©√©s par JavaScript -->
            </div>
        </div>

        <!-- R√©sultat -->
        <div class="result hidden" id="result">
            <div class="result-emoji" id="emoji"></div>
            <h3>Vous avez gagn√© :</h3>
            <div class="result-prize" id="prize"></div>
            
            <!-- Demande d'avis -->
            <div class="review-box" id="reviewBox">
                <h4>‚≠ê Laissez un avis pour d√©bloquer votre code !</h4>
                <p>Partagez votre exp√©rience sur Google</p>
                <button class="btn btn-review" onclick="openReview()">‚≠ê Laisser un avis</button>
            </div>

            <!-- Code promo -->
            <div class="code-box hidden" id="codeBox">
                <div class="code-label">Votre code promo :</div>
                <div class="code-value" id="code"></div>
                <div class="code-thanks">‚úÖ Merci pour votre avis !</div>
            </div>

            <!-- Bouton d'utilisation -->
            <button class="btn btn-use hidden" id="useBtn">Utiliser maintenant ‚Üí</button>
        </div>
    </div>

    <!-- Scripts - ORDRE IMPORTANT -->
    <script src="config.js"></script>
    <script src="wheel.js"></script>
    <script src="email.js"></script>
    <script src="storage.js"></script>
    <script src="main.js"></script>
    
    <!-- Script d'initialisation -->
    <script>
        // Variables globales n√©cessaires (utiliser `var` pour exposer sur `window`)
        var app;
        
        // Fonctions globales appel√©es par les boutons HTML
        function spin() {
            if (app) {
                app.start();
            } else {
                console.error('App non initialis√©e');
            }
        }
        
        function openReview() {
            if (app) {
                app.openReview();
            } else {
                console.error('App non initialis√©e');
            }
        }
    </script>
</body>
</html>